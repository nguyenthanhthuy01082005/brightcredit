<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BrightCredit – Vay Tiền Nhanh, Giải Pháp Tài Chính An Toàn</title>
    <!-- Tải Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Cài đặt cấu hình Tailwind -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'shinhan-primary': '#00468c', // Xanh đậm, thương hiệu chính
                        'shinhan-secondary': '#00a299', // Xanh ngọc, làm điểm nhấn
                        'shinhan-accent': '#fcd34d', // Vàng hổ phách cho CTA
                        'shinhan-hotline': '#dc2626', // Đỏ cho Hotline
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        
        /* Hiệu ứng nền nhẹ nhàng cho banner */
        .hero-banner-bg {
            background-color: #f0f7f9;
            background-image: linear-gradient(135deg, rgba(0, 70, 140, 0.03) 25%, transparent 25%, transparent 50%, rgba(0, 70, 140, 0.03) 50%, rgba(0, 70, 140, 0.03) 75%, transparent 75%, transparent);
            background-size: 30px 30px;
        }

        /* Tùy chỉnh màu thumb cho thanh trượt */
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #00468c;
            cursor: pointer;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
        }
        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: #00468c;
            cursor: pointer;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
        }

        /* Đảm bảo nội dung footer không bị thanh mobile CTA che lấp */
        .fixed-mobile-padding {
            padding-bottom: 4rem; /* Chiều cao của thanh CTA ở mobile */
        }
        @media (min-width: 1024px) {
            .fixed-mobile-padding {
                padding-bottom: 0;
            }
        }
    </style>
</head>
<body class="bg-white font-sans text-gray-800 antialiased fixed-mobile-padding">

    <!-- Message Box (Modal) -->
    <div id="messageModal" class="fixed inset-0 z-[100] hidden items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300 p-4">
        <div class="bg-white p-8 rounded-xl shadow-2xl max-w-sm w-full transform transition-all duration-300 scale-100">
            <h3 id="modalTitle" class="text-xl font-bold mb-4 text-shinhan-primary">Thông báo</h3>
            <p id="modalMessage" class="text-gray-700 mb-6">Nội dung thông báo.</p>
            <button onclick="closeModal()" class="w-full bg-shinhan-primary text-white py-2 rounded-lg font-semibold hover:bg-shinhan-secondary transition duration-150">Đóng</button>
        </div>
    </div>

    <!-- Header & Mobile Menu -->
    <header class="sticky top-0 z-50 bg-white shadow-lg border-t-4 border-shinhan-secondary">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo/Brand -->
                <a href="#" class="flex-shrink-0 flex items-center">
                    <svg class="h-8 w-8 text-shinhan-primary" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8V9a1 1 0 00-1-1v10a1 1 0 001 1v-3.5m0-11c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2V8z" />
                    </svg>
                    <span class="ml-2 text-2xl font-extrabold text-shinhan-primary tracking-tight">BrightCredit</span>
                </a>
                
                <!-- Desktop Navigation Links -->
                <nav class="hidden lg:flex space-x-6 text-sm font-semibold">
                    <a href="#" class="text-gray-600 hover:text-shinhan-secondary transition duration-150 py-1">Trang chủ</a>
                    <a href="#brand" class="text-gray-600 hover:text-shinhan-secondary transition duration-150 py-1">Thương hiệu</a>
                    <a href="#products" class="text-gray-600 hover:text-shinhan-secondary transition duration-150 py-1">Sản phẩm</a>
                    <a href="#calculator" class="text-gray-600 hover:text-shinhan-secondary transition duration-150 py-1">Tính khoản vay</a>
                </nav>

                <!-- Desktop CTA/Hotline -->
                <div class="hidden lg:flex items-center space-x-4">
                    <a href="tel:0898504190" class="text-shinhan-hotline text-sm font-bold hover:text-red-700 transition duration-150">
                        Hotline: 0898.504.190
                    </a>
                    <a href="#register" class="px-4 py-2 bg-shinhan-primary text-white text-sm font-bold rounded-lg shadow-md hover:bg-shinhan-secondary transition duration-150">
                        Đăng ký Vay
                    </a>
                </div>

                <!-- Mobile Menu Button (Hamburger) -->
                <button id="mobileMenuButton" class="lg:hidden p-2 text-gray-600 hover:text-shinhan-primary rounded-md focus:outline-none focus:ring-2 focus:ring-shinhan-primary" aria-expanded="false">
                    <svg class="h-6 w-6 menu-icon-open" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                    <svg class="h-6 w-6 menu-icon-close hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
        </div>
        
        <!-- Mobile Menu Content -->
        <nav id="mobileMenu" class="hidden lg:hidden px-2 pt-2 pb-3 space-y-1 bg-white border-t shadow-md">
            <a href="#" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-50 hover:text-shinhan-primary">Trang chủ</a>
            <a href="#brand" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-50 hover:text-shinhan-primary">Thương hiệu</a>
            <a href="#products" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-50 hover:text-shinhan-primary">Sản phẩm</a>
            <a href="#calculator" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-50 hover:text-shinhan-primary">Tính khoản vay</a>
        </nav>
    </header>

    <main>
        <!-- 1. Hero/Main Banner Section (Trang Chủ) -->
        <section class="hero-banner-bg pt-16 pb-20">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col lg:flex-row items-center justify-between gap-12">
                <!-- Text/CTA Column -->
                <div class="lg:w-1/2 text-center lg:text-left">
                    <h1 class="text-4xl sm:text-5xl lg:text-6xl font-extrabold text-gray-900 leading-tight">
                        <span class="text-shinhan-primary">Giải Pháp Tài Chính</span> <br />
                        Linh Hoạt Cho Mọi Nhu Cầu
                    </h1>
                    <p class="mt-4 text-xl text-gray-600 max-w-3xl">
                        BrightCredit - Uy tín, Minh bạch, Nhanh chóng. Đăng ký online, duyệt vay siêu tốc.
                    </p>
                    <div class="mt-8 flex justify-center lg:justify-start space-x-4">
                        <a href="#register" class="px-6 py-3 text-lg font-bold rounded-xl shadow-lg text-white bg-shinhan-primary hover:bg-shinhan-secondary transition duration-300 transform hover:scale-105">
                            Bắt đầu Đăng ký Vay
                        </a>
                    </div>
                </div>

                <!-- Image Column (Tự tạo hình ảnh minh họa) -->
                <div class="lg:w-1/2 w-full mt-10 lg:mt-0">
                    <div class="bg-white p-4 rounded-3xl shadow-2xl border-shinhan-primary border-4">
                        
                    </div>
                </div>
            </div>
        </section>

        <!-- 2. Brand/Value Section (Thương Hiệu) -->
        <section id="brand" class="py-16 sm:py-24 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12">
                    <span class="text-sm font-semibold text-shinhan-secondary uppercase tracking-wider">Về BrightCredit</span>
                    <h2 class="mt-2 text-3xl font-extrabold text-gray-900 sm:text-4xl">
                        Tầm Nhìn & Giá Trị Cốt Lõi
                    </h2>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <!-- Value 1: Minh Bạch -->
                    <div class="p-6 bg-gray-50 rounded-xl shadow-lg text-center hover:shadow-xl transition duration-300 border-t-4 border-shinhan-primary">
                        <svg class="w-10 h-10 mx-auto text-shinhan-primary mb-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.204A9.956 9.956 0 0012 3c-5.591 0-10 4.409-10 10 0 2.22 0 4.293 1.382 6.204l-1.382 2.75 3.75-1.5 1.5 1.5.75-1.5L9 21l-1.5-1.5-2.257 1.13 1.13-2.257a11.042 11.042 0 005.516-5.516l2.257-1.13-1.13 2.257z" /></svg>
                        <h3 class="text-xl font-bold mb-2 text-gray-900">Minh Bạch</h3>
                        <p class="text-gray-600 text-sm">Mọi thông tin về lãi suất, phí và điều khoản đều được công khai rõ ràng, giúp khách hàng yên tâm khi đưa ra quyết định.</p>
                    </div>

                    <!-- Value 2: Chuyên Nghiệp -->
                    <div class="p-6 bg-gray-50 rounded-xl shadow-lg text-center hover:shadow-xl transition duration-300 border-t-4 border-shinhan-primary">
                        <svg class="w-10 h-10 mx-auto text-shinhan-primary mb-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.563 23.563 0 0112 15c-3.185 0-6.223-.62-9-1.745M16 16v.01M6 16v.01M12 21h-2" /></svg>
                        <h3 class="text-xl font-bold mb-2 text-gray-900">Chuyên Nghiệp</h3>
                        <p class="text-gray-600 text-sm">Đội ngũ tư vấn được đào tạo chuyên sâu, hỗ trợ tận tâm, giải quyết hồ sơ nhanh chóng và hiệu quả.</p>
                    </div>
                    
                    <!-- Value 3: Công Nghệ -->
                    <div class="p-6 bg-gray-50 rounded-xl shadow-lg text-center hover:shadow-xl transition duration-300 border-t-4 border-shinhan-primary">
                        <svg class="w-10 h-10 mx-auto text-shinhan-primary mb-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-1.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg>
                        <h3 class="text-xl font-bold mb-2 text-gray-900">Công Nghệ</h3>
                        <p class="text-gray-600 text-sm">Ứng dụng công nghệ FinTech hiện đại, giúp quy trình thẩm định và giải ngân được số hóa, tiết kiệm thời gian.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 3. Product/Service Section (Sản phẩm) -->
        <section id="products" class="py-16 sm:py-24 bg-gray-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12">
                    <span class="text-sm font-semibold text-shinhan-secondary uppercase tracking-wider">Các Giải Pháp Vay Tiêu Dùng</span>
                    <h2 class="mt-2 text-3xl font-extrabold text-gray-900 sm:text-4xl">
                        Sản Phẩm Đa Dạng
                    </h2>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <!-- Product 1: Vay Tín Chấp -->
                    <div class="bg-white p-6 rounded-xl shadow-lg border-t-4 border-shinhan-primary">
                        
                        <h3 class="text-xl font-bold text-shinhan-primary mt-4 mb-2">Vay Tín Chấp</h3>
                        <p class="text-gray-600 text-sm">Không cần tài sản đảm bảo, giải ngân dựa trên uy tín cá nhân và thu nhập ổn định.</p>
                    </div>

                    <!-- Product 2: Vay Mua Xe -->
                    <div class="bg-white p-6 rounded-xl shadow-lg border-t-4 border-shinhan-primary">
                        
                        <h3 class="text-xl font-bold text-shinhan-primary mt-4 mb-2">Vay Mua Xe</h3>
                        <p class="text-gray-600 text-sm">Hỗ trợ lên đến 80% giá trị xe, thủ tục đơn giản, lãi suất cạnh tranh.</p>
                    </div>
                    
                    <!-- Product 3: Vay Hóa Đơn Điện -->
                    <div class="bg-white p-6 rounded-xl shadow-lg border-t-4 border-shinhan-primary">
                        
                        <h3 class="text-xl font-bold text-shinhan-primary mt-4 mb-2">Vay Hóa Đơn</h3>
                        <p class="text-gray-600 text-sm">Chỉ cần hóa đơn điện/nước/internet, duyệt vay nhanh chóng, dễ dàng.</p>
                    </div>
                    
                    <!-- Product 4: Vay Khác -->
                    <div class="bg-white p-6 rounded-xl shadow-lg border-t-4 border-shinhan-primary">
                        
                        <h3 class="text-xl font-bold text-shinhan-primary mt-4 mb-2">Vay Cải Thiện</h3>
                        <p class="text-gray-600 text-sm">Hỗ trợ vay tiêu dùng cho các mục đích lớn như sửa chữa nhà cửa, học tập.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 4. Loan Calculator -->
        <section id="calculator" class="py-16 sm:py-24 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12">
                    <span class="text-sm font-semibold text-shinhan-secondary uppercase tracking-wider">Công cụ Miễn phí</span>
                    <h2 class="mt-2 text-3xl font-extrabold text-gray-900 sm:text-4xl">
                        Máy Tính Khoản Vay
                    </h2>
                </div>

                <div class="max-w-4xl mx-auto bg-gray-50 p-6 sm:p-8 rounded-2xl shadow-xl text-gray-800 border border-gray-100">
                    <h3 class="text-2xl font-bold mb-6 text-shinhan-primary">Ước tính Thanh Toán Hàng Tháng</h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <!-- Input Controls -->
                        <div class="space-y-6">
                            <!-- Loan Amount Input -->
                            <div>
                                <label for="loanAmount" class="block text-sm font-medium text-gray-600 mb-2">Số tiền muốn vay (VNĐ)</label>
                                <input type="range" id="loanAmount" min="10000000" max="100000000" step="1000000" value="30000000" class="w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer">
                                <p class="mt-3 text-xl font-extrabold text-shinhan-primary">
                                    <span id="amountDisplay">30,000,000</span> VNĐ
                                </p>
                            </div>
                            
                            <!-- Loan Term Input -->
                            <div>
                                <label for="loanTerm" class="block text-sm font-medium text-gray-600 mb-2">Thời gian vay (Tháng)</label>
                                <input type="range" id="loanTerm" min="6" max="36" step="3" value="12" class="w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer">
                                <p class="mt-3 text-xl font-extrabold text-shinhan-primary">
                                    <span id="termDisplay">12</span> Tháng
                                </p>
                            </div>

                            <!-- Interest Rate Display/Input -->
                            <div>
                                <label for="interestRate" class="block text-sm font-medium text-gray-600 mb-2">Lãi suất hàng năm (Tham khảo - %/năm)</label>
                                <div class="relative">
                                    <input type="number" id="interestRate" value="18" min="10" max="30" step="0.1" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-shinhan-primary focus:border-shinhan-primary">
                                    <span class="absolute right-3 top-2.5 text-gray-500">%</span>
                                </div>
                                <p class="mt-1 text-xs text-gray-500">Áp dụng công thức dư nợ giảm dần.</p>
                            </div>
                        </div>

                        <!-- Result Display -->
                        <div class="bg-white p-6 rounded-xl shadow-inner border border-gray-100 space-y-4">
                            <h4 class="text-xl font-bold text-gray-900 border-b pb-2 mb-4">Kết Quả Ước Tính</h4>
                            
                            <div class="flex justify-between items-center">
                                <span class="text-gray-600 font-semibold">Thanh toán hàng tháng:</span>
                                <p class="text-xl font-extrabold text-shinhan-primary">
                                    <span id="monthlyPayment">0</span> VNĐ
                                </p>
                            </div>

                            <div class="flex justify-between items-center border-t pt-4">
                                <span class="text-gray-600">Tổng tiền Lãi suất:</span>
                                <p class="text-lg font-bold text-gray-700">
                                    <span id="totalInterest">0</span> VNĐ
                                </p>
                            </div>

                            <div class="flex justify-between items-center">
                                <span class="text-gray-600">Tổng tiền phải trả:</span>
                                <p class="text-lg font-bold text-gray-700">
                                    <span id="totalPayment">0</span> VNĐ
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <a href="#register" class="mt-8 block w-full text-center px-6 py-3 bg-shinhan-accent text-gray-900 font-bold rounded-lg shadow-xl hover:bg-amber-400 transition duration-300 transform hover:scale-[1.01]">
                        Đăng ký Vay Ngay
                    </a>
                </div>
            </div>
        </section>

        <!-- 5. Registration Form Section -->
        <section id="register" class="py-16 sm:py-24 bg-gray-100">
            <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12">
                    <span class="text-sm font-semibold text-shinhan-primary uppercase tracking-wider">Bắt Đầu Hồ Sơ</span>
                    <h2 class="mt-2 text-3xl font-extrabold text-gray-900 sm:text-4xl">
                        Hoàn tất Đăng Ký Trong 5 Phút
                    </h2>
                </div>

                <div class="bg-white p-6 sm:p-8 rounded-2xl shadow-2xl border border-gray-200">
                    <form id="registrationForm" class="space-y-6">
                        <!-- Họ và Tên -->
                        <div>
                            <label for="fullName" class="block text-sm font-medium text-gray-700">Họ và Tên Đầy Đủ</label>
                            <input type="text" id="fullName" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-shinhan-primary focus:border-shinhan-primary" placeholder="Nguyễn Văn A">
                        </div>
                        
                        <!-- Số Điện Thoại -->
                        <div>
                            <label for="phoneNumber" class="block text-sm font-medium text-gray-700">Số Điện Thoại</label>
                            <input type="tel" id="phoneNumber" required pattern="[0-9]{10,11}" class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-shinhan-primary focus:border-shinhan-primary" placeholder="090XXXXXXXX">
                        </div>

                        <!-- Số CCCD/CMND -->
                        <div>
                            <label for="idNumber" class="block text-sm font-medium text-gray-700">Số CCCD/CMND</label>
                            <input type="text" id="idNumber" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-shinhan-primary focus:border-shinhan-primary" placeholder="001XXXXXXXXX">
                        </div>

                        <!-- Số Tiền Vay Mong Muốn -->
                        <div>
                            <label for="desiredAmount" class="block text-sm font-medium text-gray-700">Số Tiền Vay Mong Muốn (VNĐ)</label>
                            <input type="number" id="desiredAmount" min="10000000" max="100000000" step="1000000" required class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-shinhan-primary focus:border-shinhan-primary" placeholder="VD: 50000000">
                        </div>

                        <!-- Button Đăng Ký -->
                        <button type="submit" id="submitButton" class="w-full py-3 px-4 bg-shinhan-primary text-white font-bold rounded-lg shadow-lg hover:bg-shinhan-secondary transition duration-300 disabled:opacity-50" disabled>
                            Gửi Đăng Ký và Nhận Tư Vấn
                        </button>
                    </form>
                    <p id="authStatus" class="mt-4 text-center text-sm text-gray-600 font-semibold">Đang kết nối hệ thống...</p>
                </div>
            </div>
        </section>
    </main>
    
    <!-- Footer -->
    <footer class="bg-gray-900 text-white pt-12 pb-24 lg:pb-12 mt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <!-- Cột 1: Logo và Slogan -->
                <div>
                    <h3 class="text-2xl font-extrabold text-shinhan-secondary">BrightCredit</h3>
                    <p class="mt-2 text-sm text-gray-400">Đối tác tài chính tin cậy cho tương lai tươi sáng của bạn.</p>
                </div>

                <!-- Cột 2: Thông Tin Liên Hệ -->
                <div>
                    <h4 class="text-lg font-bold mb-3 border-b border-gray-700 pb-2">Liên Hệ Trụ Sở Chính</h4>
                    <p class="text-sm text-gray-400 mb-2">
                        <span class="font-bold">Địa chỉ:</span> 31 Phan Đình Giót, Phương Liệt, Thanh Xuân, Hà Nội
                    </p>
                    <p class="text-sm text-gray-400 mb-2">
                        <span class="font-bold">Hotline:</span> <a href="tel:0898504190" class="text-shinhan-secondary hover:text-white">0898.504.190</a>
                    </p>
                    <p class="text-sm text-gray-400">
                        <span class="font-bold">Email/Web:</span> <a href="http://www.bightcredit.vn" target="_blank" class="text-shinhan-secondary hover:text-white">www.bightcredit.vn</a>
                    </p>
                </div>

                <!-- Cột 3: Điều Hướng -->
                <div>
                    <h4 class="text-lg font-bold mb-3 border-b border-gray-700 pb-2">Điều Hướng Nhanh</h4>
                    <ul class="space-y-1">
                        <li><a href="#brand" class="text-sm text-gray-400 hover:text-shinhan-secondary transition">Về Thương Hiệu</a></li>
                        <li><a href="#products" class="text-sm text-gray-400 hover:text-shinhan-secondary transition">Sản Phẩm Vay</a></li>
                        <li><a href="#calculator" class="text-sm text-gray-400 hover:text-shinhan-secondary transition">Tính Khoản Vay</a></li>
                        <li><a href="#register" class="text-sm text-gray-400 hover:text-shinhan-secondary transition">Đăng Ký Online</a></li>
                    </ul>
                </div>
                
                <!-- Cột 4: Cam Kết -->
                <div>
                    <h4 class="text-lg font-bold mb-3 border-b border-gray-700 pb-2">Cam Kết</h4>
                    <p class="text-sm text-gray-400">Chúng tôi cam kết bảo mật tuyệt đối mọi thông tin cá nhân và hồ sơ vay của khách hàng.</p>
                </div>
            </div>

            <div class="mt-12 border-t border-gray-700 pt-6 text-center">
                <p class="text-sm text-gray-500">
                    &copy; 2025 BrightCredit. Giao diện demo mô phỏng dịch vụ tài chính tiêu dùng.
                </p>
            </div>
        </div>
    </footer>


    <!-- FIXED MOBILE CTA BAR (Chỉ hiển thị trên Mobile) -->
    <div class="fixed bottom-0 left-0 right-0 lg:hidden z-40 bg-white border-t border-gray-200 shadow-2xl">
        <div class="flex h-16 items-center justify-between">
            <!-- Hotline Button -->
            <a href="tel:0898504190" class="flex-1 flex flex-col items-center justify-center h-full bg-white text-shinhan-hotline border-r border-gray-200 hover:bg-red-50 transition duration-150">
                <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                </svg>
                <span class="text-xs font-bold mt-1">GỌI HỖ TRỢ</span>
            </a>
            <!-- CTA Button -->
            <a href="#register" class="flex-1 flex flex-col items-center justify-center h-full bg-shinhan-primary text-white hover:bg-shinhan-secondary transition duration-150">
                <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                </svg>
                <span class="text-xs font-bold mt-1">ĐĂNG KÝ VAY</span>
            </a>
        </div>
    </div>

    <!-- JavaScript for Logic and Firebase Integration -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        
        // --- GLOBAL VARIABLES & FIREBASE INIT ---
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        // Set Firebase Log Level
        setLogLevel('debug');
        
        let app;
        let db;
        let auth;
        let userId = 'anonymous'; // Default user ID
        let isAuthReady = false;

        if (Object.keys(firebaseConfig).length > 0) {
            try {
                app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);
            } catch (error) {
                console.error("Lỗi khi khởi tạo Firebase:", error);
                document.getElementById('authStatus').textContent = "Lỗi: Không thể khởi tạo Firebase. Vui lòng thử lại.";
            }
        } else {
            document.getElementById('authStatus').textContent = "Lỗi: Không tìm thấy cấu hình Firebase. Chế độ ghi dữ liệu bị vô hiệu hóa.";
        }

        // --- AUTHENTICATION & INITIALIZATION ---
        if (auth) {
            onAuthStateChanged(auth, async (user) => {
                if (user) {
                    userId = user.uid;
                    isAuthReady = true;
                    document.getElementById('submitButton').disabled = false;
                    document.getElementById('authStatus').textContent = `Auth ID: ${userId} | Hệ thống sẵn sàng nhận hồ sơ.`;
                } else {
                    try {
                        // Cố gắng đăng nhập bằng token nếu có
                        if (initialAuthToken) {
                            await signInWithCustomToken(auth, initialAuthToken);
                        } else {
                            // Nếu không có token, đăng nhập ẩn danh
                            await signInAnonymously(auth);
                        }
                    } catch (error) {
                        console.error("Firebase Auth Error:", error);
                        document.getElementById('authStatus').textContent = "Lỗi xác thực Firebase. Vui lòng thử lại.";
                    }
                }
            });
        }


        // --- UTILITY FUNCTIONS ---

        // Hàm định dạng số
        function formatNumber(number) {
            return number.toLocaleString('vi-VN', { maximumFractionDigits: 0 });
        }

        // Hàm hiển thị Modal
        window.showModal = function(title, message) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalMessage').textContent = message;
            document.getElementById('messageModal').classList.remove('hidden');
            document.getElementById('messageModal').classList.add('flex');
        }

        // Hàm đóng Modal
        window.closeModal = function() {
            document.getElementById('messageModal').classList.remove('flex');
            document.getElementById('messageModal').classList.add('hidden');
        }

        // --- LOAN CALCULATOR LOGIC (Dư nợ giảm dần) ---
        
        // Công thức tính thanh toán hàng tháng (PMT)
        function calculateMonthlyPayment(principal, annualRate, termInMonths) {
            if (termInMonths <= 0 || principal <= 0) return 0;
            const monthlyRate = (annualRate / 100) / 12;

            if (monthlyRate === 0) {
                return principal / termInMonths; 
            }

            // M = P [ r(1 + r)^n ] / [ (1 + r)^n – 1]
            const power = Math.pow(1 + monthlyRate, termInMonths);
            const monthlyPayment = principal * (monthlyRate * power) / (power - 1);
            
            return monthlyPayment;
        }

        const amountRange = document.getElementById('loanAmount');
        const amountDisplay = document.getElementById('amountDisplay');
        const termRange = document.getElementById('loanTerm');
        const termDisplay = document.getElementById('termDisplay');
        const rateInput = document.getElementById('interestRate');
        const paymentDisplay = document.getElementById('monthlyPayment');
        const totalInterestDisplay = document.getElementById('totalInterest');
        const totalPaymentDisplay = document.getElementById('totalPayment');

        function updateCalculator() {
            const principal = parseFloat(amountRange.value);
            const term = parseInt(termRange.value, 10);
            const annualRate = parseFloat(rateInput.value);

            // Cập nhật giá trị hiển thị
            amountDisplay.textContent = formatNumber(principal);
            termDisplay.textContent = term;

            if (isNaN(principal) || isNaN(term) || isNaN(annualRate) || principal <= 0 || term <= 0 || annualRate < 0) {
                paymentDisplay.textContent = '0';
                totalInterestDisplay.textContent = '0';
                totalPaymentDisplay.textContent = '0';
                return;
            }

            const monthlyPayment = calculateMonthlyPayment(principal, annualRate, term);
            
            if (isFinite(monthlyPayment) && monthlyPayment > 0) {
                const roundedMonthlyPayment = Math.round(monthlyPayment);
                const totalPayment = roundedMonthlyPayment * term;
                const totalInterest = totalPayment - principal;

                paymentDisplay.textContent = formatNumber(roundedMonthlyPayment);
                totalPaymentDisplay.textContent = formatNumber(totalPayment);
                totalInterestDisplay.textContent = formatNumber(totalInterest);
            } else {
                paymentDisplay.textContent = '0';
                totalInterestDisplay.textContent = '0';
                totalPaymentDisplay.textContent = '0';
            }
        }

        // Gán sự kiện cho các input
        amountRange.addEventListener('input', updateCalculator);
        termRange.addEventListener('input', updateCalculator);
        rateInput.addEventListener('input', updateCalculator);


        // --- FORM SUBMISSION LOGIC (Firestore) ---

        const registrationForm = document.getElementById('registrationForm');
        const submitButton = document.getElementById('submitButton');
        const loader = `<svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>Đang gửi...`;
        const originalButtonText = submitButton.textContent;

        registrationForm.addEventListener('submit', async (e) => {
            e.preventDefault();

            if (!isAuthReady || !db) {
                showModal('Lỗi Hệ Thống', 'Hệ thống chưa sẵn sàng. Vui lòng chờ kết nối Firebase hoặc thử lại.');
                return;
            }

            submitButton.disabled = true;
            submitButton.innerHTML = loader;

            const formData = {
                fullName: document.getElementById('fullName').value,
                phoneNumber: document.getElementById('phoneNumber').value,
                idNumber: document.getElementById('idNumber').value,
                desiredAmount: parseInt(document.getElementById('desiredAmount').value, 10),
                registrationDate: new Date().toISOString(),
                userId: userId,
                status: 'Chờ xử lý'
            };

            try {
                // Lưu dữ liệu vào collection công khai để mô phỏng việc tiếp nhận hồ sơ
                const collectionPath = `artifacts/${appId}/public/data/loan_registrations`;
                const docRef = await addDoc(collection(db, collectionPath), formData);
                
                showModal(
                    'Đăng Ký Thành Công!', 
                    `Hồ sơ (ID: ${docRef.id}) đã được gửi. Tư vấn viên sẽ gọi lại cho bạn qua SĐT ${formData.phoneNumber} ngay lập tức. Xin cảm ơn!`
                );
                
                registrationForm.reset(); 

            } catch (error) {
                console.error("Lỗi khi gửi dữ liệu lên Firestore: ", error);
                showModal(
                    'Lỗi Đăng Ký', 
                    'Đã xảy ra lỗi khi gửi hồ sơ. Vui lòng kiểm tra console log để biết chi tiết.'
                );
            } finally {
                submitButton.disabled = false;
                submitButton.textContent = originalButtonText;
            }
        });

        // --- MOBILE MENU TOGGLE ---

        const mobileMenuButton = document.getElementById('mobileMenuButton');
        const mobileMenu = document.getElementById('mobileMenu');
        const menuIconOpen = document.querySelector('.menu-icon-open');
        const menuIconClose = document.querySelector('.menu-icon-close');

        mobileMenuButton.addEventListener('click', () => {
            const isHidden = mobileMenu.classList.toggle('hidden');
            if (isHidden) {
                menuIconOpen.classList.remove('hidden');
                menuIconClose.classList.add('hidden');
            } else {
                menuIconOpen.classList.add('hidden');
                menuIconClose.classList.remove('hidden');
            }
        });


        // Khởi tạo calculator khi DOM đã load
        document.addEventListener('DOMContentLoaded', () => {
            updateCalculator();
        });
    </script>
</body>
</html>
